<!DOCTYPE html>
<html>
    <head>
        <title>Carregando pedidos com jquery</title>
    </head>
    <body>
        <div id="pedidos"></div>
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script type="text/javascript">
            $(function(){
                CarregarPedidos();
            }());

            function CarregarPedidos(){
                $("#pedidos").load('http://187.255.163.75:8080/iComidaREST/rest/icomida/pedidos', function(){
                   HabilitarListeners();
                });
            }

            function HabilitarListeners()
            {
                $("#pedidos table tr").each(function(){
                    var _self = $(this);
                    _self.find("a").on("click", function(){
                        event.preventDefault();
                        var idPedido = _self.find("td:first").text();
                        AtualizarPedidos(idPedido, 4);
                    });
                });
            }

            function AtualizarPedidos(pedido, status){
                $.ajax({
                    type: 'PUT',
                    crossDomain: true,
                    url: 'http://187.255.163.75:8080/iComidaREST/rest/icomida/alterarPedidoitem/' + pedido + '/' + status,
                    success: function(data){
                        CarregarPedidos();
                    }
                });
            }
        </script>
    </body>
</html>